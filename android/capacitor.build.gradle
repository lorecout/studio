// DO NOT EDIT THIS FILE!
def coreVersion = '7.0.0'
def androidVersion = '7.0.0'

if (findProject(':capacitor-android')) {
    coreVersion = CAPACITOR_ANDROID_GROUP_VERSION
    androidVersion = CAPACITOR_ANDROID_VERSION
} else {
    def capacitorAndroidProjectDir = System.getenv("CAPACITOR_ANDROID_PROJECT_PATH") ?: "../node_modules/@capacitor/android/capacitor"

    if (capacitorAndroidProjectDir) {
        apply from: "${capacitorAndroidProjectDir}/build.gradle"
        coreVersion = CAPACITOR_ANDROID_GROUP_VERSION
        androidVersion = CAPACITOR_ANDROID_VERSION
    } else {
        def capacitorCliVersion = CAPACITOR_CLI_VERSION ?: "7.0.0"
        logger.warn(
            "================================================================================\n" +
            "CANNOT FIND CAPACITOR-ANDROID PROJECT IN YOUR GRADLE SETTINGS. CAPACITOR GRADLE\n" +
            "PLUGIN WILL BE IGNORED. THIS MAY CAUSE BUILD ISSUES. READ THE UPGRADE NOTES: \n" +
            "https://capacitorjs.com/docs/updating/" + capacitorCliVersion + "#update-your-project-to-the-new-android-structure\n" +
            "================================================================================\n"
        )
    }
}

ext {
    capacitorCoreVersion = coreVersion
    capacitorAndroidVersion = androidVersion
}
